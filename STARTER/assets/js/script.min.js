function ready(){let menuContainer=document.querySelector(".site-header");document.getElementById("site-navigation");let mobileMenuButton=document.getElementById("mobile-menu"),menuHasChildrenItems=(mobileMenuButton.addEventListener("click",function(e){e.preventDefault(),menuContainer.classList.contains("mobile-menu-open")?(menuContainer.classList.remove("arrow-up"),menuContainer.classList.add("fade-out"),menuContainer.classList.remove("mobile-menu-open"),mobileMenuButton.setAttribute("aria-expanded",!1),setTimeout(function(){menuContainer.classList.remove("fade-out")},500)):(menuContainer.classList.add("arrow-up"),menuContainer.classList.add("fade-in"),mobileMenuButton.setAttribute("aria-expanded",!0),setTimeout(function(){menuContainer.classList.add("mobile-menu-open"),menuContainer.classList.remove("fade-in")},500))}),document.querySelectorAll(".site-header #primary-menu .menu-item-has-children")),menuHasChildrenBtn=document.querySelectorAll(".site-header #primary-menu .menu-item-has-children > .toggle-dropdown");for(let menuChildren of menuHasChildrenBtn){let menuParent=menuChildren.parentNode;var anchorLabelStr=menuChildren.textContent.replace(/\s+/g,"-").toLowerCase();menuParent.querySelector("button").setAttribute("id",anchorLabelStr),menuParent.querySelector(".sub-menu").setAttribute("aria-labelledby",anchorLabelStr),menuChildren.addEventListener("click",function(e){if(e.preventDefault(),menuParent.classList.contains("menu-open"))menuParent.classList.remove("menu-open"),menuChildren.setAttribute("aria-expanded",!1);else{for(var menuHasChildrenItem of menuHasChildrenItems){var toggleDropdown;menuHasChildrenItem.classList.remove("menu-open");for(toggleDropdown of menuHasChildrenItem.querySelectorAll(".toggle-dropdown"))toggleDropdown.setAttribute("aria-expanded",!1)}menuChildren.setAttribute("aria-expanded",!0),setTimeout(function(){menuParent.classList.add("menu-open")},100)}})}document.addEventListener("mouseup",function(e){for(var menuChildren of menuHasChildrenBtn){var menuParent=menuChildren.parentNode;menuParent.classList.contains("menu-open")&&null===e.target.closest("#site-navigation")&&(menuParent.classList.remove("menu-open"),menuChildren.setAttribute("aria-expanded",!1))}}),document.addEventListener("keyup",function(e){var menuChildren,key=e.key;for(menuChildren of menuHasChildrenBtn){var menuParent=menuChildren.parentNode;menuParent.classList.contains("menu-open")&&"Escape"===key&&(menuParent.classList.remove("menu-open"),menuChildren.setAttribute("aria-expanded",!1),menuParent.querySelector("button").focus())}});var menuItemSearch=document.querySelectorAll(".site-header #primary-menu .menu-item.search button");let searchModal=document.getElementById("search-modal");for(let menuSearch of menuItemSearch)menuSearch.addEventListener("click",function(e){e.preventDefault(),menuSearch.classList.contains("search-open")?(searchModal.classList.remove("search-open"),menuSearch.classList.remove("search-open"),menuSearch.setAttribute("aria-expanded",!1)):(searchModal.classList.add("search-open"),menuSearch.classList.add("search-open"),menuSearch.setAttribute("aria-expanded",!0))}),document.addEventListener("keyup",function(e){"Escape"===e.key&&"true"===menuSearch.getAttribute("aria-expanded")&&(menuSearch.setAttribute("aria-expanded",!1),menuSearch.classList.remove("search-open"),menuSearch.focus(),searchModal.classList.remove("search-open"))})}document.addEventListener("DOMContentLoaded",ready);